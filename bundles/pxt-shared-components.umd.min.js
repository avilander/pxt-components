!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/cdk/layout"),require("core-js/es7/reflect"),require("zone.js/dist/zone"),require("@angular/common"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/material"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/router"),require("@angular/http")):"function"==typeof define&&define.amd?define("pxt-shared-components",["exports","@angular/core","rxjs","@angular/cdk/layout","core-js/es7/reflect","zone.js/dist/zone","@angular/common","@angular/cdk/table","@angular/cdk/tree","@angular/material","@angular/platform-browser","@angular/platform-browser/animations","@angular/common/http","rxjs/operators","@angular/router","@angular/http"],e):e(t["pxt-shared-components"]={},t.ng.core,t.rxjs,t.ng.cdk.layout,null,null,t.ng.common,t.ng.cdk.table,t.ng.cdk.tree,t.ng.material,t.ng.platformBrowser,t.ng.platformBrowser.animations,t.ng.common.http,t.rxjs.operators,t.ng.router,t.ng.http)}(this,function(t,e,n,o,r,a,i,s,u,c,l,p,d,m,h,f){"use strict";var g=function(){function t(t){this.viewContainerRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[ad-pxt-content]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef}]},t}(),b=function(){function t(){this.submenusItens=new n.Subject,this.submenusItensObservable=this.submenusItens.asObservable(),this._loadComponent=new n.Subject,this.loadComponentObservable=this._loadComponent.asObservable(),this._setUserLogged=new n.Subject,this.userLoggedObservable=this._setUserLogged.asObservable(),this._setInfoInit=new n.Subject,this.infoInitial=this._setInfoInit.asObservable()}return t.prototype.setSubmenus=function(t){this.submenusItens.next(t)},t.prototype.setInitialInfo=function(t){this._setInfoInit.next(t)},t.prototype.loadComponent=function(t){this._loadComponent.next(t)},t.prototype.setUser=function(t){this._setUserLogged.next(t)},t.decorators=[{type:e.Injectable}],t}(),y=function(){function t(t,e,n,o){var r=this;this.componentFactoryResolver=n,this.pxtAppComponentService=o,this.routes=[],this.submenus=[],this.system="SYSTEM NAME",this.urlImg="http://imagensdsv.peixoto.com.br/auth/mini_logo.png",this.menuSelected="",this.usuerLogged="Loogged user",this.shouldRun=!0,this.currentAdIndex=-1,this.mobileQuery=e.matchMedia("(max-width: 600px)"),this._mobileQueryListener=function(){return t.detectChanges()},this.mobileQuery.addListener(this._mobileQueryListener),o.infoInitial.subscribe(function(t){t!=undefined?(r.routes=t.components,r.system=t.system,r.usuerLogged=t.userLogged):r.routes=[]})}return t.prototype.ngOnDestroy=function(){this.mobileQuery.removeListener(this._mobileQueryListener),clearInterval(this.interval)},t.prototype.ngOnInit=function(){this.subscribeComponent()},t.prototype.loadComponent=function(t,e){this.menuSelected=t.data.text;var n=t,o=this.componentFactoryResolver.resolveComponentFactory(n.component),r=e.viewContainerRef;r.clear();r.createComponent(o)},t.prototype.subscribeComponent=function(){var o=this;this.pxtAppComponentService.loadComponentObservable.subscribe(function(t){var e=o.componentFactoryResolver.resolveComponentFactory(t),n=o.adHost.viewContainerRef;n.clear();n.createComponent(e)})},t.prototype.selectItemMenu=function(t){console.log(t),this.loadComponent(t,this.adHost)},t.decorators=[{type:e.Component,args:[{selector:"pxt-app",template:'<div class="example-container" [class.example-is-mobile]="mobileQuery.matches">\n\n  <mat-toolbar color="primary" class="example-toolbar mat-elevation-z8">\n    <button mat-icon-button style="z-index: 1;"  (click)="snav.toggle()">\n      <mat-icon>menu</mat-icon>\n    </button>\n    <img [src]="urlImg"> <h1 style="margin-left: 8px; text-transform: uppercase;">{{system}}</h1>\n    <h1 class="system">{{menuSelected}}</h1>\n    <span class="example-spacer"></span>\n    <span style="text-transform: uppercase">Olá, {{usuerLogged}}</span>\n    <button mat-icon-button [matMenuTriggerFor]="user">\n      <mat-icon>account_circle</mat-icon>\n    </button>\n    <mat-menu #user="matMenu" [overlapTrigger]="false">\n      <button mat-menu-item>\n        <mat-icon>exit_to_app</mat-icon>\n        <span>Sair</span>\n      </button>\n    </mat-menu>\n  </mat-toolbar>\n  <mat-sidenav-container class="example-sidenav-container" [style.marginTop.px]="mobileQuery.matches ? 56 : 0">\n    <mat-sidenav #snav [fixedInViewport]="mobileQuery.matches" fixedTopGap="56">\n\n      <mat-nav-list>\n        <a mat-list-item routerLink="." (click)="selectItemMenu(nav)" *ngFor="let nav of routes">\n          <mat-icon matListIcon>{{nav.data.icon}}</mat-icon>\n          <h3 matLine> {{nav.data.text}} </h3>\n        </a>\n      </mat-nav-list>\n    </mat-sidenav>\n    <mat-sidenav-content class="pxt-content-body">\n      <ng-template ad-pxt-content></ng-template>\n    </mat-sidenav-content>\n  </mat-sidenav-container>\n</div>\n<div *ngIf="!shouldRun">Please open on Stackblitz to see result</div>',styles:[".example-spacer{flex:1 1 auto}.example-container{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.example-container>.example-toolbar,.example-is-mobile .example-toolbar{z-index:2}.example-sidenav-container{flex:1}.example-is-mobile .example-sidenav-container{flex:1 0 auto}mat-sidenav-content{padding:0}.icone-menu{line-height:inherit;width:2rem;display:block;float:left;text-align:center;margin-right:1rem}.arrow-after-menu{line-height:inherit;width:2rem;display:block;float:right;text-align:center}.titulo-menu{padding-right:20px}mat-nav-list span::after{font-family:'Material Icons';content:\"keyboard_arrow_right\";color:#9e9e9e;font-size:18px;position:absolute;right:0;padding-right:10px}.system{width:100%;text-align:center;position:fixed;text-transform:uppercase}"]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:o.MediaMatcher},{type:e.ComponentFactoryResolver},{type:undefined,decorators:[{type:e.Inject,args:[b]}]}]},t.propDecorators={adHost:[{type:e.ViewChild,args:[g]}]},t}(),M=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[s.CdkTableModule,u.CdkTreeModule,c.MatAutocompleteModule,c.MatBadgeModule,c.MatBottomSheetModule,c.MatButtonModule,c.MatButtonToggleModule,c.MatCardModule,c.MatCheckboxModule,c.MatChipsModule,c.MatStepperModule,c.MatDatepickerModule,c.MatDialogModule,c.MatDividerModule,c.MatExpansionModule,c.MatGridListModule,c.MatIconModule,c.MatInputModule,c.MatListModule,c.MatMenuModule,c.MatNativeDateModule,c.MatPaginatorModule,c.MatProgressBarModule,c.MatProgressSpinnerModule,c.MatRadioModule,c.MatRippleModule,c.MatSelectModule,c.MatSidenavModule,c.MatSliderModule,c.MatSlideToggleModule,c.MatSnackBarModule,c.MatSortModule,c.MatTableModule,c.MatTabsModule,c.MatToolbarModule,c.MatTooltipModule,c.MatTreeModule,c.MatIconModule,l.BrowserModule,p.BrowserAnimationsModule,i.CommonModule]}]}],t}(),v=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,M],declarations:[y,g],exports:[y],providers:[b]}]}],t}(),x=function(){function t(){}return t.prototype.ngOnDestroy=function(){},t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"pxt-content-body",template:"\n<mat-card>\n    <ng-content></ng-content>\n</mat-card>",styles:[".pxt-content-body{padding:10px}.pxt-content-body mat-card{margin:5px;border-top:4px solid;border-radius:4px;border-bottom:4px solid}"]}]}],t.ctorParameters=function(){return[]},t}(),w=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,M],declarations:[x],exports:[x],entryComponents:[x]}]}],t}(),I=function _(t,e,n,o){this.icon=t,this.menu=e,this.enable=n,this["enum"]=o},C={SALVAR:1,PESQUISAR:2,LIMPAR:3,NOVO:4,VOLTAR:5};C[C.SALVAR]="SALVAR",C[C.PESQUISAR]="PESQUISAR",C[C.LIMPAR]="LIMPAR",C[C.NOVO]="NOVO",C[C.VOLTAR]="VOLTAR";var S=function(){function t(t){this.injector=t}return t.prototype.load=function(t){var n=this,o=this.injector.get(d.HttpClient);return new Promise(function(e){o.get(t).pipe(m.map(function(t){return t})).subscribe(function(t){n.config=t,e()})})},t.prototype.getConfiguration=function(t,e){if(e){var n=this.config[e][t];return this.verifyUrl(n)}var o=this.config[t];return this.verifyUrl(o)},t.prototype.verifyUrl=function(t){return t.includes("/",t.length-1)?t:t+"/"},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:e.Injector}]},t}(),A=function(){function t(t){this.configService=t}return t.prototype.getApi=function(){return this.configService.getConfiguration("PATH","API")},t.prototype.getUrlAutenticacao=function(){return this.configService.getConfiguration("AUTENTICACAO","SISTEMAS")},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:S}]},t}(),R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var O=function(i){function t(t,e,n,o,r){var a=i.call(this,t,e)||this;return a.backend=t,a.injector=n,a.router=o,a.urlHelper=r,a.isUnathourized=!1,a}return function o(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,i),t.prototype.getHeaders=function(){var t=new f.Headers;return t.append("Content-Type","application/json"),t.append("Cache-Control","no-store"),t.append("Pragma","no-cache"),t},t.prototype.handleResponse=function(t,e,n){var o=this;this.origRequest;return t.pipe(m.catchError(function(t){return o.onCatch(t)}),m.map(function(t){return o.onResult(t)}))},t.prototype.onResult=function(t){return 201==t.status?t._body:t.json()},t.prototype.doGet=function(t,e){var n=t,o=new f.RequestOptions({headers:this.getHeaders()});return this.handleResponse(i.prototype.get.call(this,n,o))},t.prototype.doPost=function(t,e,n){var o=t,r=new f.RequestOptions({headers:this.getHeaders()});return this.handleResponse(i.prototype.post.call(this,o,e,r),o,n)},t.prototype.doPut=function(t,e,n){var o=t,r=new f.RequestOptions({headers:this.getHeaders()});return this.handleResponse(i.prototype.put.call(this,o,e,r),o,n)},t.prototype.doPath=function(t,e,n){var o=t,r=new f.RequestOptions({headers:this.getHeaders()});return this.handleResponse(i.prototype.patch.call(this,o,e,r),o,n)},t.prototype.doDelete=function(t,e,n){var o=t+"/"+e,r=new f.RequestOptions({headers:this.getHeaders()});return this.handleResponse(i.prototype["delete"].call(this,o,r),o,n)},t.prototype.requestArgs=function(t){return null==t&&(t=new f.RequestOptions({headers:this.getHeaders()})),t},t.prototype.onCatch=function(t){switch(t.status){case 401:this.isUnathourized||(window.location.href=this.urlHelper.getUrlAutenticacao()+"?erro=401"),this.isUnathourized=!0;break;case 400:window.location.href=this.urlHelper.getUrlAutenticacao()+"?erro=400";break;case 404:window.location.href=this.urlHelper.getUrlAutenticacao()+"?erro=404";break;default:window.location.href=this.urlHelper.getUrlAutenticacao()+"?erro=0"}return n.Observable["throw"](t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:f.XHRBackend},{type:f.RequestOptions},{type:e.Injector},{type:h.Router},{type:A}]},t}(f.Http),P=function(){function t(t,e){this.httpService=t,this.helper=e,this.pathUrl="",this.pathUrl=this.helper.getApi(),console.log(this.pathUrl)}return t.prototype.get=function(t){},t.prototype.post=function(t,e){},t.prototype["delete"]=function(t){},t.prototype.load=function(t){},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:O},{type:A}]},t}(),k=function(){function t(t,e){this._pxtAppService=t,this._serviceBase=e,this.buttons=[],this.enableSave=!0,this.enableBack=!0,this.enableClear=!0,this.enableSearch=!0,this.enableAdd=!0,this.enableDelete=!0,this.buttons.push(new I("keyboard_backspace","VOLTAR",!0,C.VOLTAR)),this.buttons.push(new I("add","SALVAR",!0,C.SALVAR)),this.buttons.push(new I("add","NOVO",!0,C.NOVO)),this.buttons.push(new I("delete","LIMPAR",!0,C.LIMPAR)),this.buttons.push(new I("search","PESQUISAR",!0,C.PESQUISAR)),this.buttons.push(new I("delete","Excluir",!0,C.PESQUISAR))}return t.prototype.save=function(){return this._serviceBase.post({teste:"teste"},this.controller)},t.prototype.search=function(){throw new Error("Method not implemented.")},t.prototype.clear=function(){throw new Error("Method not implemented.")},t.prototype.add=function(){throw new Error("Method not implemented.")},t.prototype.back=function(){throw new Error("Method not implemented.")},t.prototype["delete"]=function(){throw new Error("Method not implemented.")},t.decorators=[{type:e.Component,args:[{selector:"pxt-submenus",template:'<mat-toolbar color="primary">\n  <a (click)="back()" mat-button *ngIf="enableBack">\n    <mat-icon>{{buttons[0].icon}}</mat-icon> {{buttons[0].menu}}\n  </a>\n  <a (click)="save()" mat-button *ngIf="enableSave">\n    <mat-icon>{{buttons[1].icon}}</mat-icon> {{buttons[1].menu}}\n  </a>\n  <a (click)="add()" mat-button *ngIf="enableAdd">\n    <mat-icon>{{buttons[2].icon}}</mat-icon> {{buttons[2].menu}}\n  </a>\n  <a (click)="clear()" mat-button *ngIf="enableClear">\n    <mat-icon>{{buttons[3].icon}}</mat-icon> {{buttons[3].menu}}\n  </a>\n  <a (click)="search()" mat-button *ngIf="enableSearch">\n    <mat-icon>{{buttons[4].icon}}</mat-icon> {{buttons[4].menu}}\n  </a>\n  <a (click)="delete()" mat-button *ngIf="enableDelete">\n      <mat-icon>{{buttons[5].icon}}</mat-icon> {{buttons[5].menu}}\n  </a>\n  <ng-content></ng-content>\n</mat-toolbar>',styles:[""]}]}],t.ctorParameters=function(){return[{type:b},{type:P}]},t.propDecorators={model:[{type:e.Input}],controller:[{type:e.Input}]},t}(),L=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,M],declarations:[k],exports:[k],providers:[P,A,S,{provide:O}]}]}],t}();t.PxtAppModule=v,t.PxtAppComponent=y,t.PxtContentModule=w,t.PxtContentComponent=x,t.MaterialAngularModule=M,t.PxtSubmenusModule=L,t.PxtSubmenusComponent=k,t.PxtAppComponentService=b,t.ɵa=g,t.ɵd=A,t.ɵe=S,t.ɵc=O,t.ɵb=P,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=pxt-shared-components.umd.min.js.map