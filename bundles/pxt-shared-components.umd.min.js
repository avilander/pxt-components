!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/cdk/layout"),require("@angular/material"),require("core-js/es7/reflect"),require("zone.js/dist/zone"),require("@angular/common"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/forms"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("@angular/common/http"),require("rxjs/operators"),require("jwt-decode"),require("@angular/http"),require("@angular/router"),require("ngx-gallery")):"function"==typeof define&&define.amd?define("pxt-shared-components",["exports","@angular/core","rxjs","@angular/cdk/layout","@angular/material","core-js/es7/reflect","zone.js/dist/zone","@angular/common","@angular/cdk/table","@angular/cdk/tree","@angular/forms","@angular/platform-browser","@angular/platform-browser/animations","@angular/common/http","rxjs/operators","jwt-decode","@angular/http","@angular/router","ngx-gallery"],t):t(e["pxt-shared-components"]={},e.ng.core,e.rxjs,e.ng.cdk.layout,e.ng.material,null,null,e.ng.common,e.ng.cdk.table,e.ng.cdk.tree,e.ng.forms,e.ng.platformBrowser,e.ng.platformBrowser.animations,e.ng.common.http,e.rxjs.operators,e.jwt_decode,e.ng.http,e.ng.router,e.ngxGallery)}(this,function(e,r,t,n,o,a,i,u,s,l,c,p,d,m,h,M,g,f,y){"use strict";M=M&&M.hasOwnProperty("default")?M["default"]:M;var b=function(){function e(e){this.viewContainerRef=e}return e.decorators=[{type:r.Directive,args:[{selector:"[ad-pxt-content]"}]}],e.ctorParameters=function(){return[{type:r.ViewContainerRef}]},e}(),v=function(){function e(){this.submenusItens=new t.Subject,this.submenusItensObservable=this.submenusItens.asObservable(),this._loadComponent=new t.Subject,this.loadComponentObservable=this._loadComponent.asObservable(),this._setUserLogged=new t.Subject,this.userLoggedObservable=this._setUserLogged.asObservable(),this._setInfoInit=new t.Subject,this.infoInitial=this._setInfoInit.asObservable()}return e.prototype.setSubmenus=function(e){this.submenusItens.next(e)},e.prototype.setInitialInfo=function(e){this._setInfoInit.next(e)},e.prototype.loadComponent=function(e){this._loadComponent.next(e)},e.prototype.setUser=function(e){this._setUserLogged.next(e)},e.decorators=[{type:r.Injectable}],e}(),S=function(){function e(e,t,n,o){var r=this;this.componentFactoryResolver=n,this.pxtAppComponentService=o,this.routes=[],this.groups=[],this.menus=[],this.system="SYSTEM NAME",this.urlImg="http://imagensdsv.peixoto.com.br/auth/mini_logo.png",this.menuSelected="",this.usuerLogged="Loogged user",this.shouldRun=!0,this.currentAdIndex=-1,this.mobileQuery=t.matchMedia("(max-width: 600px)"),this._mobileQueryListener=function(){return e.detectChanges()},this.mobileQuery.addListener(this._mobileQueryListener),this.result=o.infoInitial.subscribe(function(e){e!=undefined&&(r.usuerLogged=e.userLogged,r.system=e.system,r.menusReceived=e.sideBarMenus,r.menus=e.sideBarMenus,r.prepareMenu())}),this.subscribeComponent()}return e.prototype.ngOnDestroy=function(){this.mobileQuery.removeListener(this._mobileQueryListener),clearInterval(this.interval)},e.prototype.loadComponent=function(e,t){this.menuSelected=e.menuText;var n=e.menuSource,o=this.componentFactoryResolver.resolveComponentFactory(n.component),r=t.viewContainerRef;r.clear();r.createComponent(o)},e.prototype.subscribeComponent=function(){var r=this;this.pxtAppComponentService.loadComponentObservable.subscribe(function(t){var e=r.menusReceived.filter(function(e){return e.menuSource!=undefined&&e.menuSource.component===t.component});console.log(e),1==e.length&&(r.menuSelected=e[0].menuText);var n=r.componentFactoryResolver.resolveComponentFactory(t.component),o=r.adHost.viewContainerRef;o.clear(),o.createComponent(n).instance.data=t.data})},e.prototype.selectItemMenu=function(e){this.loadComponent(e,this.adHost)},e.prototype.prepareMenu=function(){var n;n=this.menus.filter(function(e){return"group"==e.menuType&&""==e.menuParent});var o=this.menus.filter(function(e){return"group"==e.menuType&&""!==e.menuParent}),e=this.menus.filter(function(e){return"item"==e.menuType&&""!==e.menuParent});e.forEach(function(t){var e=o.filter(function(e){return e.menuId==t.menuParent});1==e.length&&(e[0].childs==undefined&&(e[0].childs=[]),e[0].childs.push(t))}),o.forEach(function(t){var e=o.filter(function(e){return e.menuId==t.menuParent});1==e.length&&(e[0].childs==undefined&&(e[0].childs=[]),e[0].childs.push(t))}),o.forEach(function(t){var e=n.filter(function(e){return e.menuId==t.menuParent});1==e.length&&(e[0].childs==undefined&&(e[0].childs=[]),e[0].childs.push(t))}),e.forEach(function(t){var e=n.filter(function(e){return e.menuId==t.menuParent});1==e.length&&(e[0].childs==undefined&&(e[0].childs=[]),e[0].childs.push(t))}),this.menus=n},e.decorators=[{type:r.Component,args:[{selector:"pxt-app",template:'<div class="example-container" [class.example-is-mobile]="mobileQuery.matches">\n  <mat-toolbar color="primary" class="example-toolbar mat-elevation-z8">\n    <button mat-icon-button style="z-index: 1;" (click)="snav.toggle()">\n      <mat-icon>menu</mat-icon>\n    </button>\n    <img [src]="urlImg">\n    <h1 style="margin-left: 8px; font-weight: bold">{{system | uppercaseFirst}}</h1>\n    <h1 class="system">{{menuSelected | uppercaseFirst}}</h1>\n    <span class="example-spacer"></span>\n    <span>Ol√°, {{usuerLogged | uppercaseFirst}} </span>\n    <button mat-icon-button [matMenuTriggerFor]="user">\n      <mat-icon>account_circle</mat-icon>\n    </button>\n    <mat-menu #user="matMenu" [overlapTrigger]="false">\n      <button mat-menu-item>\n        <mat-icon>exit_to_app</mat-icon>\n        <span>Sair</span>\n      </button>\n    </mat-menu>\n  </mat-toolbar>\n  <mat-sidenav-container class="example-sidenav-container" [style.marginTop.px]="mobileQuery.matches ? 56 : 0">\n    <mat-sidenav #snav [fixedInViewport]="mobileQuery.matches" fixedTopGap="56">\n       \n        <span *ngFor="let item of menus">\n          \x3c!-- Handle branch node menu items --\x3e\n          <span *ngIf="item.childs && item.childs.length > 0">\n            <button mat-menu-item color="primary" [matMenuTriggerFor]="menu.childMenu">\n              <mat-icon>{{item.menuIcon}}</mat-icon>\n              <span>{{item.menuText | uppercaseFirst}}</span>\n            </button>\n            <pxt-app-menu-item #menu [items]="item.childs"></pxt-app-menu-item>\n          </span>\n          \x3c!-- Handle leaf node menu items --\x3e\n          <span *ngIf="!item.childs || item.childs.length === 0">\n            <button *ngIf="item.menuType==\'item\'" mat-menu-item color="primary" (click)="selectItemMenu(item)">\n              <mat-icon>{{item.menuIcon}}</mat-icon>\n              <span>{{item.menuText | uppercaseFirst}}</span>\n            </button>\n            <button *ngIf="item.menuType==\'group\'" mat-menu-item color="primary" >\n                <mat-icon>{{item.menuIcon}}</mat-icon>\n                <span>{{item.menuText | uppercaseFirst}}</span>\n              </button>\n          </span>\n        </span>\n      \n    </mat-sidenav>\n    <mat-sidenav-content class="pxt-content-body">\n      <ng-template ad-pxt-content></ng-template>\n    </mat-sidenav-content>\n  </mat-sidenav-container>\n\n</div>\n<div *ngIf="!shouldRun">Please open on Stackblitz to see result</div>',styles:[".example-spacer{flex:1 1 auto}.example-container{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.example-container>.example-toolbar,.example-is-mobile .example-toolbar{background:linear-gradient(0deg,navy,#3f51b5 58%,#3f51b5 80%,#3f51b5)}.example-sidenav-container{flex:1}.example-is-mobile .example-sidenav-container{flex:1 0 auto}mat-sidenav-content{padding:0}.icone-menu{line-height:inherit;width:2rem;display:block;float:left;text-align:center;margin-right:1rem}.arrow-after-menu{line-height:inherit;width:2rem;display:block;float:right;text-align:center}.titulo-menu{padding-right:20px}mat-nav-list span::after{font-family:'Material Icons';content:\"keyboard_arrow_right\";color:#9e9e9e;font-size:18px;position:absolute;right:0;padding-right:10px}.system{width:100%;text-align:center;position:fixed}.basic-container{padding:0 0 400px}.basic-container .menu-bar{min-height:auto}.basic-container .menu-bar .mat-toolbar-row{height:auto}.version-info{font-size:8pt;float:right;padding:8px}"]}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:n.MediaMatcher},{type:r.ComponentFactoryResolver},{type:undefined,decorators:[{type:r.Inject,args:[v]}]}]},e.propDecorators={matMenu:[{type:r.Input}],subContainer1:[{type:r.ViewChild,args:["menus",{read:r.ViewContainerRef}]}],contextMenuTrigger:[{type:r.ViewChild,args:["contextMenuTrigger",{read:o.MatMenuTrigger}]}],adHost:[{type:r.ViewChild,args:[b]}]},e}(),x=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[s.CdkTableModule,l.CdkTreeModule,o.MatAutocompleteModule,o.MatBadgeModule,o.MatBottomSheetModule,o.MatButtonModule,o.MatButtonToggleModule,o.MatCardModule,o.MatCheckboxModule,o.MatChipsModule,o.MatStepperModule,o.MatDatepickerModule,o.MatDialogModule,o.MatDividerModule,o.MatExpansionModule,o.MatGridListModule,o.MatIconModule,o.MatInputModule,o.MatListModule,o.MatMenuModule,o.MatNativeDateModule,o.MatPaginatorModule,o.MatProgressBarModule,o.MatProgressSpinnerModule,o.MatRadioModule,o.MatRippleModule,o.MatSelectModule,o.MatSidenavModule,o.MatSliderModule,o.MatSlideToggleModule,o.MatSnackBarModule,o.MatSortModule,o.MatTableModule,o.MatTabsModule,o.MatToolbarModule,o.MatTooltipModule,o.MatTreeModule,o.MatIconModule,p.BrowserModule,d.BrowserAnimationsModule,u.CommonModule,c.FormsModule,o.MatCardModule,o.MatIconModule,o.MatLineModule,o.MatListModule,o.MatSortModule,o.MatTabsModule,o.MatTreeModule,o.MatBadgeModule,o.MatChipsModule,o.MatInputModule,o.MatRadioModule,o.MatTableModule,o.MatButtonModule,o.MatCommonModule,o.MatDialogModule,o.MatOptionModule,o.MatRippleModule,o.MatSelectModule,o.MatSliderModule,o.MatDividerModule,o.MatSidenavModule,o.MatStepperModule,o.MatToolbarModule,o.MatToolbarModule,o.MatTooltipModule,o.MatCheckboxModule,o.MatGridListModule,o.MatSnackBarModule,o.MatExpansionModule,o.MatFormFieldModule,o.MatPaginatorModule,o.MatDatepickerModule,o.MatNativeDateModule,o.MatBottomSheetModule,o.MatProgressBarModule,o.MatSlideToggleModule,o.MatAutocompleteModule,o.MatButtonToggleModule,o.MatPseudoCheckboxModule,o.MatProgressSpinnerModule,p.BrowserModule,u.CommonModule,p.BrowserModule,d.BrowserAnimationsModule,c.FormsModule,o.MatNativeDateModule,c.ReactiveFormsModule],exports:[s.CdkTableModule,l.CdkTreeModule,o.MatAutocompleteModule,o.MatBadgeModule,o.MatBottomSheetModule,o.MatButtonModule,o.MatButtonToggleModule,o.MatCardModule,o.MatCheckboxModule,o.MatChipsModule,o.MatStepperModule,o.MatDatepickerModule,o.MatDialogModule,o.MatDividerModule,o.MatExpansionModule,o.MatGridListModule,o.MatIconModule,o.MatInputModule,o.MatListModule,o.MatMenuModule,o.MatNativeDateModule,o.MatPaginatorModule,o.MatProgressBarModule,o.MatProgressSpinnerModule,o.MatRadioModule,o.MatRippleModule,o.MatSelectModule,o.MatSidenavModule,o.MatSliderModule,o.MatSlideToggleModule,o.MatSnackBarModule,o.MatSortModule,o.MatTableModule,o.MatTabsModule,o.MatToolbarModule,o.MatTooltipModule,o.MatTreeModule,o.MatIconModule,p.BrowserModule,d.BrowserAnimationsModule,u.CommonModule,c.FormsModule,o.MatMenuModule,o.MatCardModule,o.MatIconModule,o.MatLineModule,o.MatListModule,o.MatSortModule,o.MatTabsModule,o.MatTreeModule,o.MatBadgeModule,o.MatChipsModule,o.MatInputModule,o.MatRadioModule,o.MatTableModule,o.MatButtonModule,o.MatCommonModule,o.MatDialogModule,o.MatOptionModule,o.MatRippleModule,o.MatSelectModule,o.MatSliderModule,o.MatDividerModule,o.MatSidenavModule,o.MatStepperModule,o.MatToolbarModule,o.MatToolbarModule,o.MatTooltipModule,o.MatCheckboxModule,o.MatGridListModule,o.MatSnackBarModule,o.MatExpansionModule,o.MatFormFieldModule,o.MatPaginatorModule,o.MatDatepickerModule,o.MatNativeDateModule,o.MatBottomSheetModule,o.MatProgressBarModule,o.MatSlideToggleModule,o.MatAutocompleteModule,o.MatButtonToggleModule,o.MatPseudoCheckboxModule,o.MatProgressSpinnerModule,p.BrowserModule,u.CommonModule,o.MatNativeDateModule,c.ReactiveFormsModule]}]}],e}(),C=function(){function e(e){this.injector=e}return e.prototype.load=function(e){var n=this,o=this.injector.get(m.HttpClient);return new Promise(function(t){o.get(e).pipe(h.map(function(e){return e})).subscribe(function(e){n.config=e,t()})})},e.prototype.getConfiguration=function(e,t){if(t){var n=this.config[t][e];return this.verifyUrl(n)}var o=this.config[e];return this.verifyUrl(o)},e.prototype.verifyUrl=function(e){return e.includes("/",e.length-1)?e:e+"/"},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:r.Injector}]},e}(),I=function(){function e(e){this.configService=e}return e.prototype.getApi=function(){return this.configService.getConfiguration("API","PATH")},e.prototype.getApiSgi=function(){return this.configService.getConfiguration("API","SGI")},e.prototype.getApiUrl=function(e,t){return this.configService.getConfiguration(t,e)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:C}]},e}(),P=function(e,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function k(e,t){function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var T="assets/config/env.json",R={id:108,prex:"PORCRP"},w=function(){function e(){}return e.prototype.getAccessToken=function(){var e=localStorage.getItem("token");if(null!=e)return e},e.prototype.setTokenStorage=function(e){localStorage.setItem("token",JSON.stringify(e))},e.prototype.removeTokenStorage=function(){var e=localStorage.getItem("token"),t=M(e);localStorage.removeItem(R.id+R.prex+t.sub)},e.prototype.deleteToken=function(){this.removeTokenStorage()},e.prototype.tokenExists=function(){return null!==localStorage.getItem("token")&&localStorage.getItem("token")!==undefined&&""!==localStorage.getItem("token")},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(),A=function(a){function e(e,t,n,o){var r=a.call(this,e,t)||this;return r.backend=e,r.injector=n,r.tokenService=o,r.isUnathourized=!1,r}return k(e,a),e.prototype.getHeaders=function(){var e=new g.Headers;return e.append("Content-Type","application/json"),e.append("Cache-Control","no-store"),e.append("Pragma","no-cache"),e},e.prototype.handleResponse=function(e,t){var n=this;this.origRequest;return e.pipe(h.catchError(function(e){return n.onCatch(e)}),h.map(function(e){return n.onResult(e)}))},e.prototype.onResult=function(e){return 201==e.status?e._body:e.json()},e.prototype.doGet=function(e,t){var n=e,o=new g.RequestOptions({headers:this.getHeaders()});return this.handleResponse(a.prototype.get.call(this,n,o))},e.prototype.doPost=function(e,t){var n=e,o=new g.RequestOptions({headers:this.getHeaders()});return this.handleResponse(a.prototype.post.call(this,n,t,o),n)},e.prototype.doPut=function(e,t){var n=e,o=new g.RequestOptions({headers:this.getHeaders()});return this.handleResponse(a.prototype.put.call(this,n,t,o),n)},e.prototype.doPath=function(e,t,n){var o=e,r=new g.RequestOptions({headers:this.getHeaders()});return this.handleResponse(a.prototype.patch.call(this,o,t,r),o)},e.prototype.doDelete=function(e,t,n){var o=e+"/"+t,r=new g.RequestOptions({headers:this.getHeaders()});return this.handleResponse(a.prototype["delete"].call(this,o,r),o)},e.prototype.request=function(e,t){if(t=this.requestArgs(t),"string"==typeof e?this.urlRequest=e:(this.urlRequest=e.url,this.origRequest=e),this.urlRequest!==T){var n=this.tokenService.getAccessToken();null!=n&&(this.origRequest.headers.set("Authorization","Bearer ".concat(n)),t.headers.set("Authorization","Bearer ".concat(n)))}return e=this.origRequest,a.prototype.request.call(this,e,t)},e.prototype.requestArgs=function(e){return null==e&&(e=new g.RequestOptions({headers:this.getHeaders()})),e},e.prototype.onCatch=function(e){switch(e.status){case 401:this.isUnathourized||console.log(401),this.isUnathourized=!0;break;case 400:case 404:default:console.log("error 400")}return t.Observable["throw"](e)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:g.XHRBackend},{type:g.RequestOptions},{type:r.Injector},{type:w}]},e}(g.Http),O=function(){function e(e,t){this.httpService=e,this.helper=t,this.urlService=t.getApi()}return e.prototype.load=function(){return this.httpService.doGet(this.urlServiceAuto)},e.prototype.save=function(e){return this.httpService.doPost(this.urlServiceAuto,e)},e.prototype["delete"]=function(e){return this.httpService.doDelete(this.urlServiceAuto,e)},e.prototype.doGet=function(e){return-1<e.indexOf("http")?this.httpService.doGet(e):this.httpService.doGet(this.urlService+e)},e.prototype.doPost=function(e,t){return-1<e.indexOf("http")?this.httpService.doPost(e,t):this.httpService.doPost(this.urlService+e,t)},e.prototype.doPut=function(e,t){return-1<e.indexOf("http")?this.httpService.doPut(e,t):this.httpService.doPut(this.urlService+e,t)},e.prototype.doDelete=function(e,t){return-1<e.indexOf("http")?this.httpService.doPut(e,t):this.httpService.doPut(this.urlService+e,t)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:A},{type:I}]},e}(),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.transform=function(e,t){for(var n=e.toLowerCase().split(" "),o=0;o<n.length;o++)if(3<n[o].length){var r=n[o];n[o]=r[0].toUpperCase()+r.slice(1)}return n.join(" ")},t.decorators=[{type:r.Pipe,args:[{name:"uppercaseFirst"}]}],t}(u.UpperCasePipe),E=function(){function e(){}return e.DATE_TIME_FMT=(e.DATE_FMT="dd/MM/yyyy")+" - hh:mm:ss a",e}(),_=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return k(e,n),e.prototype.transform=function(e,t){return n.prototype.transform.call(this,e,E.DATE_FMT)},e.decorators=[{type:r.Pipe,args:[{name:"dateFormat"}]}],e}(u.DatePipe),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.transform=function(e,t){return new u.DatePipe("en-US").transform(e,E.DATE_TIME_FMT)},t.decorators=[{type:r.Pipe,args:[{name:"dateTimeFormat"}]}],t}(u.DatePipe),L=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule],declarations:[D,_,B],exports:[D,_,B]}]}],e}(),F=function(){function e(e){this.pxtAppComponentService=e}return e.prototype.ngOnInit=function(){},e.prototype.loadComponent=function(e){this.pxtAppComponentService.loadComponent({component:e.menuSource.component,data:""})},e.decorators=[{type:r.Component,args:[{selector:"pxt-app-menu-item",template:'<mat-menu #childMenu="matMenu" [overlapTrigger]="false">\n  <span *ngFor="let child of items">\n    \x3c!-- Handle branch node menu items --\x3e\n    <span *ngIf="child.childs && child.childs.length > 0">\n      <a mat-menu-item color="primary" [matMenuTriggerFor]="menu.childMenu">\n        <mat-icon>{{child.menuIcon}}</mat-icon>\n        {{child.menuText | uppercaseFirst}}\n      </a>\n      <pxt-app-menu-item #menu [items]="child.childs"></pxt-app-menu-item>\n    </span>\n    \x3c!-- Handle leaf node menu items --\x3e\n    <span *ngIf="!child.childs || child.childs.length === 0">\n      <a *ngIf="child.menuType==\'item\'" mat-menu-item color="primary" (click)="loadComponent(child)">\n        <mat-icon>{{child.menuIcon}}</mat-icon>\n        {{child.menuText | uppercaseFirst}}\n      </a>\n\n      <a *ngIf="child.menuType==\'group\'" mat-menu-item color="primary">\n        <mat-icon>{{child.menuIcon}}</mat-icon>\n        {{child.menuText | uppercaseFirst}}\n      </a>\n    </span>\n  </span>\n</mat-menu>',styles:[""]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Inject,args:[v]}]}]},e.propDecorators={items:[{type:r.Input}],childMenu:[{type:r.ViewChild,args:["childMenu"]}]},e}(),j=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule,x,L],declarations:[F],exports:[F],entryComponents:[F]}]}],e}(),q=function(){function e(e){this.vcRef=e}return e.decorators=[{type:r.Directive,args:[{selector:"[hash]"}]}],e.ctorParameters=function(){return[{type:r.ViewContainerRef}]},e.propDecorators={hash:[{type:r.Input}]},e}(),H=function(){function e(e,t){this._http=e,this._httpHelper=t}return e.prototype.buscarAuthorities=function(e){var t=this._httpHelper.getApiSgi()+"permissoes/buscarPerfilSistema/?",n="codigoSistema="+e;return this._http.doGet(t+n)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:A},{type:I}]},e}(),N={systemId:104,systemPrex:"SGE_NEW"},U=function(){function e(e,t,n){this.router=e,this.httpHelper=t,this.authorityService=n}return e.prototype.canActivate=function(e,t){var n=localStorage.getItem("token");if("undefined"===n||""===n||null===n)return console.log("Token Undefined"),!1;try{var o=M(n),r=localStorage.getItem(N.systemId+N.systemPrex+o.sub);"undefined"!==r&&""!==r&&null!==r||this.authorityService.buscarAuthorities(N.systemId).subscribe(function(e){localStorage.setItem(N.systemId+N.systemPrex+o.sub,e.authority)})}catch(a){return console.log(a),!1}},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:f.Router},{type:I},{type:H}]},e}(),V=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule,x,L,o.MatMenuModule,j],declarations:[S,b,q],exports:[S],providers:[v,A,O,I,C,U,w,H]}]}],e}(),G=function(){function e(){}return e.decorators=[{type:r.Component,args:[{selector:"pxt-content-body",template:"\n<mat-card>\n    <ng-content></ng-content>\n</mat-card>",styles:[".pxt-content-body{padding:10px}.pxt-content-body mat-card{margin:5px;border-top:4px solid;border-radius:4px;border-bottom:4px solid}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={data:[{type:r.Input}]},e}(),z=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule,x,m.HttpClientModule,g.HttpModule],declarations:[G],exports:[G],entryComponents:[G]}]}],e}(),Q=function re(e,t,n,o){this.icon=e,this.menu=t,this.enable=n,this["enum"]=o},X={SALVAR:1,PESQUISAR:2,LIMPAR:3,NOVO:4,VOLTAR:5,EXCLUIR:6};X[X.SALVAR]="SALVAR",X[X.PESQUISAR]="PESQUISAR",X[X.LIMPAR]="LIMPAR",X[X.NOVO]="NOVO",X[X.VOLTAR]="VOLTAR",X[X.EXCLUIR]="EXCLUIR";var J=function(){function e(e,t,n){var o=this;this._pxtAppService=e,this._serviceBase=t,this.helper=n,this.model={},this.urlService="",this.listing=new r.EventEmitter,this.statusSave=new r.EventEmitter,this.statusDelete=new r.EventEmitter,this.buttons=[],this.enableSave=!0,this.enableBack=!0,this.enableClear=!0,this.enableSearch=!0,this.enableAdd=!0,this.enableDelete=!0,this.buttons.push(new Q("keyboard_backspace","VOLTAR",!0,X.VOLTAR)),this.buttons.push(new Q("add","SALVAR",!0,X.SALVAR)),this.buttons.push(new Q("add","NOVO",!0,X.NOVO)),this.buttons.push(new Q("delete","LIMPAR",!0,X.LIMPAR)),this.buttons.push(new Q("search","PESQUISAR",!0,X.PESQUISAR)),this.buttons.push(new Q("delete","EXCLUIR",!0,X.EXCLUIR)),setTimeout(function(){o.urlService=n.getApi()+o.model.constructor.name,o._serviceBase.urlServiceAuto=o.urlService,console.log(o.urlService)},100)}return e.prototype.save=function(){var t=this;this._serviceBase.save(this.model).subscribe(function(e){t.statusSave.emit(e)})},e.prototype.search=function(){var t=this;this._serviceBase.load().subscribe(function(e){t.listing.emit(e)})},e.prototype["delete"]=function(e){var t=this;this._serviceBase["delete"](e).subscribe(function(e){t.statusDelete.emit(e)})},e.prototype.clear=function(){this.model={}},e.prototype.add=function(){throw new Error("Method 'add()' not implemented.")},e.prototype.back=function(){throw new Error("Method 'back()' not implemented.")},e.decorators=[{type:r.Component,args:[{selector:"pxt-submenus",template:'<mat-toolbar color="primary">\n  <a (click)="back()" mat-button *ngIf="enableBack">\n    <mat-icon>{{buttons[0].icon}}</mat-icon> {{buttons[0].menu | uppercaseFirst}}\n  </a>\n  <a (click)="save()" mat-button *ngIf="enableSave">\n    <mat-icon>{{buttons[1].icon}}</mat-icon> {{buttons[1].menu | uppercaseFirst}}\n  </a>\n  <a (click)="add()" mat-button *ngIf="enableAdd">\n    <mat-icon>{{buttons[2].icon}}</mat-icon> {{buttons[2].menu | uppercaseFirst}}\n  </a>\n  <a (click)="clear()" mat-button *ngIf="enableClear">\n    <mat-icon>{{buttons[3].icon}}</mat-icon> {{buttons[3].menu | uppercaseFirst}}\n  </a>\n  <a (click)="search()" mat-button *ngIf="enableSearch">\n    <mat-icon>{{buttons[4].icon}}</mat-icon> {{buttons[4].menu | uppercaseFirst}}\n  </a>\n  <a (click)="delete(0)" mat-button *ngIf="enableDelete">\n      <mat-icon>{{buttons[5].icon}}</mat-icon> {{buttons[5].menu | uppercaseFirst}}\n  </a>\n  <ng-content></ng-content>\n</mat-toolbar>',styles:[""]}]}],e.ctorParameters=function(){return[{type:v},{type:O},{type:I}]},e.propDecorators={model:[{type:r.Input}],listing:[{type:r.Output}],statusSave:[{type:r.Output}],statusDelete:[{type:r.Output}],controller:[{type:r.Input}]},e}(),W=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule,x,L],declarations:[J],exports:[J],providers:[A,O,I,C]}]}],e}(),Y=function(){},$={provide:c.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return K}),multi:!0},K=function(){function e(){this.placeholder="Escolha uma data",this.inputDisabled=!1,this.onChange=new r.EventEmitter,this.onTouchedCallback=Y,this.onChangeCallback=Y}return Object.defineProperty(e.prototype,"dataSelecionada",{get:function(){return this.dateModel},set:function(e){e!==this.dateModel&&(this.dateModel=e,this.onChangeCallback(e))},enumerable:!0,configurable:!0}),e.prototype.onBlur=function(){this.onTouchedCallback()},e.prototype.writeValue=function(e){this.dateModel=e,this.onChangeCallback(e)},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.ngOnInit=function(){},e.prototype.onDateChange=function(){this.onChange.emit(!0)},e.prototype.clear=function(){this.writeValue(undefined),this.onDateChange()},e.decorators=[{type:r.Component,args:[{selector:"pxt-datepicker",template:'<mat-form-field (click)="inputDisabled ? picker.open() : undefined">\r\n  <input matInput [matDatepicker]="picker" [placeholder]="placeholder" disabled="{{inputDisabled}}" [min]="minDate" [max]="maxDate"\r\n    [(ngModel)]="dataSelecionada" (dateChange)="onDateChange()">\r\n  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\r\n  <mat-datepicker #picker disabled="false"></mat-datepicker>\r\n  <button mat-icon-button class="btn-clear" type="button" (click)="clear()">\r\n    <mat-icon>clear</mat-icon>\r\n  </button>\r\n</mat-form-field>',providers:[$],styles:["mat-form-field{width:100%}.btn-clear{width:24px;height:24px;line-height:24px;right:0;top:0;position:absolute;margin-top:4px;opacity:.8}.btn-clear mat-icon{font-size:17px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={placeholder:[{type:r.Input}],minDate:[{type:r.Input}],maxDate:[{type:r.Input}],inputDisabled:[{type:r.Input}],onChange:[{type:r.Output}]},e}(),Z=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule,x],providers:[u.DatePipe],declarations:[K],exports:[K],schemas:[r.CUSTOM_ELEMENTS_SCHEMA,r.NO_ERRORS_SCHEMA]}]}],e}(),ee=function(){function e(){this.fileSelected=new r.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.onChangeImagem=function(e){if(e!=undefined){var t=e;return this.placeholder=t.name,this.fileSelected.next(t)}},e.decorators=[{type:r.Component,args:[{selector:"pxt-upload-file",template:'<mat-form-field>\n  <button class="btn-input-file" mat-raised-button type="button" color="primary" (click)="imgFileInput.click()">\n    <mat-icon>add</mat-icon>\n  </button>\n  <input hidden type="file" accept="image/*" #imgFileInput (change)="onChangeImagem($event.target.files[0])" />\n  <div (click)="imgFileInput.click()">\n    <input matInput type="text" disabled [placeholder]="placeholder">\n  </div>\n</mat-form-field>',styles:["mat-form-field{width:100%}.btn-input-file{position:absolute;right:0;bottom:0}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={placeholder:[{type:r.Input}],fileSelected:[{type:r.Output}]},e}(),te=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule,x],declarations:[ee],exports:[ee],entryComponents:[ee],schemas:[r.CUSTOM_ELEMENTS_SCHEMA,r.NO_ERRORS_SCHEMA]}]}],e}(),ne=function(){function e(){this.width="100%",this.height="400px"}return e.prototype.ngOnInit=function(){this.galleryOptions=[{width:this.width,height:this.height,thumbnailsColumns:4,imageAnimation:y.NgxGalleryAnimation.Slide},{breakpoint:800,width:this.width,height:this.height,imagePercent:80,thumbnailsPercent:20,thumbnailsMargin:20,thumbnailMargin:20},{breakpoint:400,preview:!1}]},e.decorators=[{type:r.Component,args:[{selector:"pxt-gallery",template:'<ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>\n',styles:[".custom-position{z-index:0!important}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={galleryImages:[{type:r.Input}],width:[{type:r.Input}],height:[{type:r.Input}]},e}(),oe=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[u.CommonModule,x,y.NgxGalleryModule],declarations:[ne],exports:[ne],entryComponents:[ne]}]}],e}();e.PxtAppModule=V,e.PxtAppComponent=S,e.PxtContentModule=z,e.PxtContentComponent=G,e.MaterialAngularModule=x,e.PxtSubmenusModule=W,e.PxtSubmenusComponent=J,e.PipeModule=L,e.PxtAppComponentService=v,e.PxtHttpService=A,e.ConfigService=C,e.HttpHelperService=I,e.RequestBaseService=O,e.VisibleInRolesGuard=U,e.AuthorityService=H,e.pxtConfiguration=N,e.PxtDatePickerModule=Z,e.PxtUploadFileModule=te,e.PxtGalleryModule=oe,e.PxtGalleryComponent=ne,e.…µg=q,e.…µf=b,e.…µe=F,e.…µd=j,e.…µi=$,e.…µj=K,e.…µk=ee,e.…µb=_,e.…µc=B,e.…µa=D,e.…µh=w,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=pxt-shared-components.umd.min.js.map